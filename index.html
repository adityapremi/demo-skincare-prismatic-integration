<meta name="apple-mobile-web-app-capable" content="yes">

<script type="text/javascript">
  

  var config = {
    partner_id: '9KpsLizwYK',
    locale: 'en',
    env: 'test', // for test env. Change to prod for production deployment
    onAddToCart: function(products) {
      // To be filled in by skincaredemo
      if (Array.isArray(products)) {
        // Array means we got multiple products (add all to cart)
        console.log("User clicked add all cart. Adding all products to shopping cart.");
        console.log(products);
      } else {
        // Single object means we got one product (add to cart)
        console.log("User clicked add to cart. Adding the product to shopping cart.");
        console.log(products);
      }
    },
    onClose: function() {
      // User closed modal. Here you could forward them to checkout if they had 
      // added products (onAddToCart was called before).
      console.log('User clicked close');
    },
    onCheckout: function(data) {
      // User clicked the checkout button that is visible on results page
      // after adding one or more products to cart. Redirect to checkout page?
      console.log('User clicked checkout, captured data is :'+ JSON.stringify(data));
      //console.log(data.cvData);
    },
    onClickProduct: function(product) {
      // To be filled in by skincaredemo. 
      console.log("User clicked info action.");
      console.log(product);
      var win = window.open(product.url, '_blank');
      win.focus();
    },
  };

  (function() {
    var rv = document.createElement('script');
    rv.src = 'https://d38knilzwtuys1.cloudfront.net/revieve-plugin-v4/revieve-plugin-loader.js';
    rv.charset = 'utf-8';
    rv.type = 'text/javascript';
    rv.async = 'true';
    rv.onload = rv.onreadystatechange = function() {
      var rs = this.readyState;
      if (rs && rs != 'complete' && rs != 'loaded') return;
      Revieve.Init(config, function() {
        // Comment out the below line if you want to open the modal
        // manually when user clicks a certain button or navigates
        // to certain page.
        Revieve.API.show();
      });
    };
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(rv, s);
  })();
</script>
